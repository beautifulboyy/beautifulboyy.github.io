<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1"><title>集合框架 | 今晚你会梦到电子羊吗</title><meta name="keywords" content="集合框架"><meta name="author" content="sakura,2294014200@qq.com"><meta name="copyright" content="sakura"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="集合框架内存中的”容器对象” - 存储数据的,开发中来替代数组的使用. 结构123456789101112131415api:java.utilCollection[I] - List[I] - 有序可重复 	- ArrayList[C] 	- LinkedList[C] 	- Vector[C] - Set[I] - 无序不可重复 	- HashSet[C] 	- SortedSet[I]">
<meta property="og:type" content="article">
<meta property="og:title" content="集合框架">
<meta property="og:url" content="http://beautifulboyy/2021/07/29/java04/index.html">
<meta property="og:site_name" content="今晚你会梦到电子羊吗">
<meta property="og:description" content="集合框架内存中的”容器对象” - 存储数据的,开发中来替代数组的使用. 结构123456789101112131415api:java.utilCollection[I] - List[I] - 有序可重复 	- ArrayList[C] 	- LinkedList[C] 	- Vector[C] - Set[I] - 无序不可重复 	- HashSet[C] 	- SortedSet[I]">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="http://beautifulboyy/img/wlop012.jpg">
<meta property="article:published_time" content="2021-07-29T02:36:18.000Z">
<meta property="article:modified_time" content="2021-09-15T05:26:54.019Z">
<meta property="article:author" content="sakura">
<meta property="article:tag" content="集合框架">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="http://beautifulboyy/img/wlop012.jpg"><link rel="shortcut icon" href="/img/favicon.png"><link rel="canonical" href="http://beautifulboyy/2021/07/29/java04/"><link rel="preconnect" href="//cdn.jsdelivr.net"/><link rel="preconnect" href="//busuanzi.ibruce.info"/><link rel="stylesheet" href="/css/index.css"><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/@fortawesome/fontawesome-free/css/all.min.css" media="print" onload="this.media='all'"><script>const GLOBAL_CONFIG = { 
  root: '/',
  algolia: undefined,
  localSearch: undefined,
  translate: undefined,
  noticeOutdate: undefined,
  highlight: {"plugin":"highlighjs","highlightCopy":true,"highlightLang":true,"highlightHeightLimit":false},
  copy: {
    success: '复制成功',
    error: '复制错误',
    noSupport: '浏览器不支持'
  },
  relativeDate: {
    homepage: false,
    post: false
  },
  runtime: '',
  date_suffix: {
    just: '刚刚',
    min: '分钟前',
    hour: '小时前',
    day: '天前',
    month: '个月前'
  },
  copyright: {"limitCount":50,"languages":{"author":"作者: sakura","link":"链接: ","source":"来源: 今晚你会梦到电子羊吗","info":"著作权归作者所有。商业转载请联系作者获得授权，非商业转载请注明出处。"}},
  lightbox: 'fancybox',
  Snackbar: undefined,
  source: {
    jQuery: 'https://cdn.jsdelivr.net/npm/jquery@latest/dist/jquery.min.js',
    justifiedGallery: {
      js: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/js/jquery.justifiedGallery.min.js',
      css: 'https://cdn.jsdelivr.net/npm/justifiedGallery/dist/css/justifiedGallery.min.css'
    },
    fancybox: {
      js: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.js',
      css: 'https://cdn.jsdelivr.net/npm/@fancyapps/fancybox@latest/dist/jquery.fancybox.min.css'
    }
  },
  isPhotoFigcaption: false,
  islazyload: false,
  isanchor: false
}</script><script id="config-diff">var GLOBAL_CONFIG_SITE = {
  title: '集合框架',
  isPost: true,
  isHome: false,
  isHighlightShrink: false,
  isToc: true,
  postUpdate: '2021-09-15 13:26:54'
}</script><noscript><style type="text/css">
  #nav {
    opacity: 1
  }
  .justified-gallery img {
    opacity: 1
  }

  #recent-posts time,
  #post-meta time {
    display: inline !important
  }
</style></noscript><script>(win=>{
    win.saveToLocal = {
      set: function setWithExpiry(key, value, ttl) {
        if (ttl === 0) return
        const now = new Date()
        const expiryDay = ttl * 86400000
        const item = {
          value: value,
          expiry: now.getTime() + expiryDay,
        }
        localStorage.setItem(key, JSON.stringify(item))
      },

      get: function getWithExpiry(key) {
        const itemStr = localStorage.getItem(key)

        if (!itemStr) {
          return undefined
        }
        const item = JSON.parse(itemStr)
        const now = new Date()

        if (now.getTime() > item.expiry) {
          localStorage.removeItem(key)
          return undefined
        }
        return item.value
      }
    }
  
    win.getScript = url => new Promise((resolve, reject) => {
      const script = document.createElement('script')
      script.src = url
      script.async = true
      script.onerror = reject
      script.onload = script.onreadystatechange = function() {
        const loadState = this.readyState
        if (loadState && loadState !== 'loaded' && loadState !== 'complete') return
        script.onload = script.onreadystatechange = null
        resolve()
      }
      document.head.appendChild(script)
    })
  
      win.activateDarkMode = function () {
        document.documentElement.setAttribute('data-theme', 'dark')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#0d0d0d')
        }
      }
      win.activateLightMode = function () {
        document.documentElement.setAttribute('data-theme', 'light')
        if (document.querySelector('meta[name="theme-color"]') !== null) {
          document.querySelector('meta[name="theme-color"]').setAttribute('content', '#ffffff')
        }
      }
      const t = saveToLocal.get('theme')
    
          if (t === 'dark') activateDarkMode()
          else if (t === 'light') activateLightMode()
        
      const asideStatus = saveToLocal.get('aside-status')
      if (asideStatus !== undefined) {
        if (asideStatus === 'hide') {
          document.documentElement.classList.add('hide-aside')
        } else {
          document.documentElement.classList.remove('hide-aside')
        }
      }
    
    const detectApple = () => {
      if (GLOBAL_CONFIG_SITE.isHome && /iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)){
        document.documentElement.classList.add('apple')
      }
    }
    detectApple()
    })(window)</script><meta name="generator" content="Hexo 5.4.0"></head><body><div id="loading-box"><div class="loading-left-bg"></div><div class="loading-right-bg"></div><div class="spinner-box"><div class="configure-border-1"><div class="configure-core"></div></div><div class="configure-border-2"><div class="configure-core"></div></div><div class="loading-word">加载中...</div></div></div><div id="web_bg"></div><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="/img/avatar.jpeg" onerror="onerror=null;src='/img/friend_404.gif'" alt="avatar"/></div><div class="site-data"><div class="data-item is-center"><div class="data-item-link"><a href="/archives/"><div class="headline">文章</div><div class="length-num">34</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/tags/"><div class="headline">标签</div><div class="length-num">44</div></a></div></div><div class="data-item is-center"><div class="data-item-link"><a href="/categories/"><div class="headline">分类</div><div class="length-num">10</div></a></div></div></div><hr/><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image: url('/img/wlop012.jpg')"><nav id="nav"><span id="blog_name"><a id="site-name" href="/">今晚你会梦到电子羊吗</a></span><div id="menus"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 时间轴</span></a></div><div class="menus_item"><a class="site-page" href="/tags/"><i class="fa-fw fas fa-tags"></i><span> 标签</span></a></div><div class="menus_item"><a class="site-page" href="/categories/"><i class="fa-fw fas fa-folder-open"></i><span> 分类</span></a></div><div class="menus_item"><a class="site-page" href="javascript:void(0);"><i class="fa-fw fa fa-heartbeat"></i><span> 清单</span><i class="fas fa-chevron-down expand"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/music/"><i class="fa-fw fas fa-music"></i><span> 音乐</span></a></li><li><a class="site-page child" href="/Gallery/"><i class="fa-fw fas fa-images"></i><span> 照片</span></a></li><li><a class="site-page child" href="/movies/"><i class="fa-fw fas fa-video"></i><span> 电影</span></a></li></ul></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友链</span></a></div><div class="menus_item"><a class="site-page" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></div></div><div id="toggle-menu"><a class="site-page"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">集合框架</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2021-07-29T02:36:18.000Z" title="发表于 2021-07-29 10:36:18">2021-07-29</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2021-09-15T05:26:54.019Z" title="更新于 2021-09-15 13:26:54">2021-09-15</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/java%E8%BF%9B%E9%98%B6/">java进阶</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">5.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>23分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" id="" data-flag-title="集合框架"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="集合框架"><a href="#集合框架" class="headerlink" title="集合框架"></a>集合框架</h2><p>内存中的”容器对象” - 存储数据的,开发中来替代数组的使用.</p>
<h3 id="结构"><a href="#结构" class="headerlink" title="结构"></a>结构</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">api:java.util</span><br><span class="line"></span><br><span class="line">Collection[I]</span><br><span class="line"> - List[I] - 有序可重复</span><br><span class="line"> 	- ArrayList[C]</span><br><span class="line"> 	- LinkedList[C]</span><br><span class="line"> 	- Vector[C]</span><br><span class="line"> - Set[I] - 无序不可重复</span><br><span class="line"> 	- HashSet[C]</span><br><span class="line"> 	- SortedSet[I]</span><br><span class="line"> 		- TreeSet[C]</span><br><span class="line">Map[I]</span><br><span class="line">	- HashMap[C] - key-value的形式存储数据的,针对key是无序不可重复的.</span><br><span class="line">	- Hashtable[C]</span><br><span class="line">		- Properteis[C] - 属性文件在内存中的映射对象 </span><br></pre></td></tr></table></figure>

<h3 id="Collection-I"><a href="#Collection-I" class="headerlink" title="Collection[I]"></a>Collection[I]</h3><ol>
<li>boolean add(E e);//向容器中添加一个元素</li>
<li>void clear();//清空容器</li>
<li>boolean contains(Object o);//判断容器中是否包含某个对象</li>
<li>boolean isEmpty();//如果集合中没有数据,集合大小为0,返回true</li>
<li>Iterator<E>    iterator();// 获取集合对象的迭代器</E></li>
<li>boolean remove(Object obj);//删除集合容器中第一次出现的这个对象.只能删除1个</li>
<li>int size();//返回集合中的数据的个数 - 集合的大小</li>
</ol>
<h3 id="List-I"><a href="#List-I" class="headerlink" title="List[I]"></a>List[I]</h3><p>特点 - 有序并且是可以重复的.</p>
<ol>
<li>E get(int index);//根据下标去取.集合下标边界[0,集合.size()-1]</li>
<li>int indexOf(Object obj);//返回此列表中指定元素的第一次出现的索引，如果此列表不包含元素，则返回-1。</li>
<li>E remove(int index);//根据下标删除,并且返回刚刚删除的那个元素</li>
<li>Object[] toArray();//将集合转换成数组.</li>
</ol>
<h3 id="ArrayList-C"><a href="#ArrayList-C" class="headerlink" title="ArrayList[C]"></a>ArrayList[C]</h3><p>特点:有序可重复的,<strong>底层数据结构就是一个”动态增长”的数组.</strong></p>
<p>优点:因为数组是一个有序的序列,所以它可以通过下标直接取值 - 查询效率高.</p>
<p>缺点:增删效率会低.</p>
<p>分析源码</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> DEFAULT_CAPACITY = <span class="number">10</span>;	<span class="comment">//默认的初始容量</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Object[] DEFAULTCAPACITY_EMPTY_ELEMENTDATA = &#123;&#125;;	<span class="comment">//一个空数组</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">transient</span> Object[] elementData; <span class="comment">// 真正存储数据的数组</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">int</span> size;	<span class="comment">// 集合的大小</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 构造</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">ArrayList</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.elementData = DEFAULTCAPACITY_EMPTY_ELEMENTDATA;	<span class="comment">//构造时初始化elementData</span></span><br><span class="line">    &#125;</span><br></pre></td></tr></table></figure>

<p>add方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//第一次:size=0; 执行ensureCapacityInternal(1);</span></span><br><span class="line">    <span class="comment">//第二次:size=1; 执行ensureCapacityInternal(2);</span></span><br><span class="line">    <span class="comment">//第十一次:size=10; 执行ensureCapacityInternal(11);</span></span><br><span class="line">    ensureCapacityInternal(size + <span class="number">1</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//第一次:elementData[0++] = e; size=1</span></span><br><span class="line">    <span class="comment">//第二次:elementData[1++] = e; size=2</span></span><br><span class="line">    <span class="comment">//第十一次:elementData[10++] = e; size=11</span></span><br><span class="line">    elementData[size++] = e;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ensureCapacityInternal();</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ensureCapacityInternal</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//第一次:在构造时进行了初始化,所以if之后的判断为true</span></span><br><span class="line">    <span class="comment">//第二次:在grow方法中elementData已经重新指向了新的数组,所以结果是false,跳过该if</span></span><br><span class="line">    <span class="comment">//第十一次:仍旧是跳过</span></span><br><span class="line">    <span class="comment">//这个if只有在第一次add的时候是true</span></span><br><span class="line">    <span class="keyword">if</span> (elementData == DEFAULTCAPACITY_EMPTY_ELEMENTDATA) &#123;</span><br><span class="line">        <span class="comment">// 第一次:minCapacity = Math.max(10,1); =&gt; minCapacity=10</span></span><br><span class="line">        minCapacity = Math.max(DEFAULT_CAPACITY, minCapacity);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//第一次:ensureExplicitCapacity(10);</span></span><br><span class="line">    <span class="comment">//第二次:ensureExplicitCapacity(2);</span></span><br><span class="line">    <span class="comment">//第十一次:ensureExplicitCapacity(11);</span></span><br><span class="line">    ensureExplicitCapacity(minCapacity);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>ensureExplicitCapacity(minCapacity);</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">ensureExplicitCapacity</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    modCount++;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 第一次:minCapacity = 10,elementData.length=0;10-0&gt;0的结果是true</span></span><br><span class="line">    <span class="comment">// 第二次:minCapacity = 2,elementData.length=10;2-10&gt;0的结果是false,跳过该if,返回add方法</span></span><br><span class="line">    <span class="comment">// 第十一次:minCapacity = 11,elementData.length=10;11-0&gt;0的结果是true</span></span><br><span class="line">    <span class="keyword">if</span> (minCapacity - elementData.length &gt; <span class="number">0</span>)</span><br><span class="line">        <span class="comment">// 第一次:执行grow(10);</span></span><br><span class="line">        <span class="comment">// 第十一次:执行grow(11);</span></span><br><span class="line">        grow(minCapacity);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>grow(minCapacity);<strong>每次扩容都增加原来长度的一半</strong></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">private</span> <span class="keyword">void</span> <span class="title">grow</span><span class="params">(<span class="keyword">int</span> minCapacity)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// 第一次:oldCapacity=0,newCapacity=0;</span></span><br><span class="line">    <span class="comment">// 第十一次:oldCapacity=10,newCapacity=15;</span></span><br><span class="line">    <span class="keyword">int</span> oldCapacity = elementData.length;</span><br><span class="line">    <span class="keyword">int</span> newCapacity = oldCapacity + (oldCapacity &gt;&gt; <span class="number">1</span>);	<span class="comment">//1.5倍</span></span><br><span class="line">    <span class="comment">// 第一次:0-10&lt;0 true</span></span><br><span class="line">    <span class="comment">// 第十一次:15-11&lt;0 false</span></span><br><span class="line">    <span class="keyword">if</span> (newCapacity - minCapacity &lt; <span class="number">0</span>)</span><br><span class="line">        <span class="comment">// 第一次:newCapacity = 10;</span></span><br><span class="line">        newCapacity = minCapacity;</span><br><span class="line">    <span class="keyword">if</span> (newCapacity - MAX_ARRAY_SIZE &gt; <span class="number">0</span>)</span><br><span class="line">        newCapacity = hugeCapacity(minCapacity);</span><br><span class="line">    <span class="comment">// 第一次:进行扩容,新的数组长度为newCapacity=10;</span></span><br><span class="line">    <span class="comment">// 第十一次:进行扩容,新的数组长度为newCapacity=15;</span></span><br><span class="line">    elementData = Arrays.copyOf(elementData, newCapacity);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2021/07/29/java04/add.png"></p>
<h4 id="集合的遍历"><a href="#集合的遍历" class="headerlink" title="集合的遍历"></a>集合的遍历</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">ArrayList&lt;String&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">list.add(<span class="string">&quot;Hello&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;Java&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;oracle&quot;</span>);</span><br><span class="line">list.add(<span class="string">&quot;php&quot;</span>);</span><br></pre></td></tr></table></figure>

<ol>
<li><p>直接输出</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; list.size(); i++) &#123;</span><br><span class="line">    System.out.print(list.get(i)+<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>增强for循环 - 只读</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">只读的循环.如果在循环的过程中进行了remove操作 - 抛出java.util.ConcurrentModificationException并发修改异常</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (String s : list) &#123;</span><br><span class="line">    System.out.print(s+<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p><strong>迭代器</strong> -  很重要</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">Iterator&lt;String&gt; iter = list.iterator();</span><br><span class="line"><span class="keyword">while</span>(iter.hasNext())&#123;</span><br><span class="line">    String s = iter.next();</span><br><span class="line">    System.out.print(s+<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li>
<li><p>匿名内部类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">list.forEach(<span class="keyword">new</span> Consumer&lt;String&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">accept</span><span class="params">(String s)</span> </span>&#123;</span><br><span class="line">        System.out.print(s+<span class="string">&quot;\t&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
<li><p>lambda表达式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">list.forEach(s -&gt; System.out.print(s+<span class="string">&quot;\t&quot;</span>));</span><br></pre></td></tr></table></figure></li>
</ol>
<blockquote>
<p>LinkedList的遍历方法和ArrayList一样.</p>
</blockquote>
<h4 id="常用方法"><a href="#常用方法" class="headerlink" title="常用方法"></a>常用方法</h4><table>
<thead>
<tr>
<th>方法</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>list.add()</td>
<td>添加元素</td>
</tr>
<tr>
<td>list.clear()</td>
<td>清空元素</td>
</tr>
<tr>
<td>list.remove(index)</td>
<td>按下标删除集合中的元素</td>
</tr>
<tr>
<td>list.remove(o)</td>
<td>按元素删除集合中的元素</td>
</tr>
<tr>
<td>list.isEmpty()</td>
<td>判断集合是否为空</td>
</tr>
<tr>
<td>list.contains(o)</td>
<td>判断集合中是否包含某个元素</td>
</tr>
<tr>
<td>list.indexOf(o)</td>
<td>返回某个元素在集合中第一次出现的位置,如果不存在返回-1</td>
</tr>
<tr>
<td>list.size()</td>
<td>获取集合的大小</td>
</tr>
<tr>
<td>list.get(index)</td>
<td>获取集合中指定下标的值</td>
</tr>
</tbody></table>
<blockquote>
<p>适用于ArrayList和LinkedList.</p>
</blockquote>
<h3 id="LinkedList-C"><a href="#LinkedList-C" class="headerlink" title="LinkedList[C]"></a>LinkedList[C]</h3><p>有序的序列,<strong>底层的数据双向链表</strong>,jdk6以及之前是双向循环链表</p>
<p>链表结构的特点:查询效率很低,每次都会从头节点开始遍历.但是增删效率高,只会涉及到相邻节点的移动.</p>
<h4 id="链表结构"><a href="#链表结构" class="headerlink" title="链表结构"></a>链表结构</h4><p>相对于数组这种数据结构,需要占用更多的内存.每个节点除了保存具体的数据,还需要保存相邻节点的地址.</p>
<ol>
<li><p>单向链表</p>
<p>head - 头节点</p>
<p>tail - 尾节点</p>
<p>element - 节点中真正的保存的数据</p>
<p>next - 下一个节点的地址</p>
<p><img src="/2021/07/29/java04/link01.png"></p>
</li>
<li><p>单向循环链表</p>
<p>尾节点的next又指向了头节点.</p>
<p><img src="/2021/07/29/java04/link02.png"></p>
</li>
<li><p>双向链表 - LinkedList底层数据结构</p>
<p>增加了一个pre - 保存的是上一个节点的地址.</p>
<p><img src="/2021/07/29/java04/link03.png"></p>
</li>
<li><p>双向循环链表</p>
<p><img src="/2021/07/29/java04/link04.png"></p>
</li>
</ol>
<h4 id="剖析源码"><a href="#剖析源码" class="headerlink" title="剖析源码"></a>剖析源码</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//节点类 -&gt; 有三个属性:分别元素,上一个节点对象以及下一个节点对象</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="class"><span class="keyword">class</span> <span class="title">Node</span>&lt;<span class="title">E</span>&gt; </span>&#123;</span><br><span class="line">    E item;	<span class="comment">//元素</span></span><br><span class="line">    Node&lt;E&gt; next;	<span class="comment">//next的值是下一个节点对象的地址</span></span><br><span class="line">    Node&lt;E&gt; prev;	<span class="comment">//prev的值是上一个节点对象的地址</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 构造方法</span></span><br><span class="line">    Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) &#123;</span><br><span class="line">        <span class="keyword">this</span>.item = element;</span><br><span class="line">        <span class="keyword">this</span>.next = next;</span><br><span class="line">        <span class="keyword">this</span>.prev = prev;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">transient</span> Node&lt;E&gt; first;	<span class="comment">//定义了头节点</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">transient</span> Node&lt;E&gt; last;		<span class="comment">//定义了尾节点</span></span><br></pre></td></tr></table></figure>

<h5 id="add方法"><a href="#add方法" class="headerlink" title="add方法"></a>add方法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    linkLast(e);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">linkLast</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//1.创建节点对象l指向尾节点</span></span><br><span class="line">    <span class="keyword">final</span> Node&lt;E&gt; l = last;</span><br><span class="line">    <span class="comment">//2.创建节点对象newNode,这个是新创建的节点对象</span></span><br><span class="line">    <span class="keyword">final</span> Node&lt;E&gt; newNode = <span class="keyword">new</span> Node&lt;&gt;(l, e, <span class="keyword">null</span>);</span><br><span class="line">    <span class="comment">//3.将尾节点指向新的节点对象[每次创建新的节点对象,尾节点都变成新的对象]</span></span><br><span class="line">    last = newNode;</span><br><span class="line">    <span class="keyword">if</span> (l == <span class="keyword">null</span>)</span><br><span class="line">        <span class="comment">//如果l为空-&gt;之前的尾节点为空-&gt;是第一次创建-&gt;表示链表之前没有任何的元素</span></span><br><span class="line">        first = newNode;	<span class="comment">// 于是把新的节点作为头节点</span></span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        <span class="comment">// 如果l不为空-&gt;表示链表不为空,则将之前链表中的尾节点的next指向新的节点</span></span><br><span class="line">        l.next = newNode;</span><br><span class="line">    size++;	<span class="comment">//长度++</span></span><br><span class="line">    modCount++;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2021/07/29/java04/link_add.png"></p>
<h5 id="get方法"><a href="#get方法" class="headerlink" title="get方法"></a>get方法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> E <span class="title">get</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    checkElementIndex(index);	<span class="comment">//用于检测元素下标-&gt;可以暂时不用在意</span></span><br><span class="line">    <span class="keyword">return</span> node(index).item;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取指定下标的节点</span></span><br><span class="line"><span class="function">Node&lt;E&gt; <span class="title">node</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// size&gt;&gt;1 的含义就是size/2</span></span><br><span class="line">    <span class="comment">// 判断index是在[0,size/2)之间还是在[size/2,size)之间</span></span><br><span class="line">    <span class="keyword">if</span> (index &lt; (size &gt;&gt; <span class="number">1</span>)) &#123;</span><br><span class="line">        <span class="comment">// 如果index在[0,size/2)之间,则从头节点开始查询</span></span><br><span class="line">        Node&lt;E&gt; x = first;	<span class="comment">// 获取头节点</span></span><br><span class="line">        <span class="comment">// 查找的步骤是从头节点开始一个一个向后取</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt; index; i++)</span><br><span class="line">            x = x.next;</span><br><span class="line">        <span class="comment">//假设index=3;</span></span><br><span class="line">        <span class="comment">//i=0时,x = first.next -&gt; 第二个节点  i++</span></span><br><span class="line">        <span class="comment">//i=1时,x -&gt; 第三个节点 i++</span></span><br><span class="line">        <span class="comment">//i=2时,x -&gt; 第四个节点 i++(不符合条件,退出)</span></span><br><span class="line">        <span class="keyword">return</span> x;	<span class="comment">//这时候就返回第四个节点</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// 如果index在[size/2,size)之间,则从尾节点开始查询</span></span><br><span class="line">        Node&lt;E&gt; x = last;	<span class="comment">// 获取尾节点</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = size - <span class="number">1</span>; i &gt; index; i--)</span><br><span class="line">            x = x.prev;</span><br><span class="line">        <span class="comment">// 假设index = 7,size = 10</span></span><br><span class="line">        <span class="comment">// i = 9时,x = last.prev -&gt; 倒数第二个节点(第九个节点) i--</span></span><br><span class="line">        <span class="comment">// i = 8时,x -&gt; 倒数第三个节点(第八个节点) i-- 此时i=7,不符合循环条件,退出循环</span></span><br><span class="line">        <span class="keyword">return</span> x;	<span class="comment">//返回第八个节点</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><img src="/2021/07/29/java04/link_get.png"></p>
<h5 id="remove方法"><a href="#remove方法" class="headerlink" title="remove方法"></a>remove方法</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> E <span class="title">remove</span><span class="params">(<span class="keyword">int</span> index)</span> </span>&#123;</span><br><span class="line">    checkElementIndex(index);</span><br><span class="line">    <span class="comment">// 这里首先node(index)找到下标对应的Node对象</span></span><br><span class="line">    <span class="comment">// 然后通过unlink(Node对象)删除对象</span></span><br><span class="line">    <span class="keyword">return</span> unlink(node(index));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="function">E <span class="title">unlink</span><span class="params">(Node&lt;E&gt; x)</span> </span>&#123;</span><br><span class="line">    <span class="comment">// assert x != null;</span></span><br><span class="line">    <span class="keyword">final</span> E element = x.item;</span><br><span class="line">    <span class="keyword">final</span> Node&lt;E&gt; next = x.next;</span><br><span class="line">    <span class="keyword">final</span> Node&lt;E&gt; prev = x.prev;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (prev == <span class="keyword">null</span>) &#123;</span><br><span class="line">        first = next;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        prev.next = next;</span><br><span class="line">        x.prev = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (next == <span class="keyword">null</span>) &#123;</span><br><span class="line">        last = prev;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        next.prev = prev;</span><br><span class="line">        x.next = <span class="keyword">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    x.item = <span class="keyword">null</span>;</span><br><span class="line">    size--;</span><br><span class="line">    modCount++;</span><br><span class="line">    <span class="keyword">return</span> element;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="/2021/07/29/java04/delete.png"></p>
<h4 id="常用方法-1"><a href="#常用方法-1" class="headerlink" title="常用方法"></a>常用方法</h4><table>
<thead>
<tr>
<th>方法</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>list.addFirst(o)</td>
<td>在头部添加某个元素</td>
</tr>
<tr>
<td>list.addLast(o)</td>
<td>在尾部添加某个元素</td>
</tr>
<tr>
<td>list.push(o)</td>
<td>把元素压入栈顶[即添加到头部]</td>
</tr>
<tr>
<td>list.pop()</td>
<td>弹出栈顶元素并返回.</td>
</tr>
<tr>
<td>list.removeFirst()</td>
<td>删除第一个元素</td>
</tr>
<tr>
<td>list.removeLast()</td>
<td>删除最后一个元素</td>
</tr>
<tr>
<td>list.getFirst()</td>
<td>获取第一个元素</td>
</tr>
<tr>
<td>list.getLast()</td>
<td>获取最后一个元素</td>
</tr>
</tbody></table>
<blockquote>
<p>offer,offerFirst,offerLast方法和add方法一样.</p>
</blockquote>
<h4 id="一个小题目"><a href="#一个小题目" class="headerlink" title="一个小题目"></a>一个小题目</h4><p>括号匹配,如果是{[()]},{<a href></a>}等匹配成功,{[)}匹配失败.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> day11.homework;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> liuWenXiu</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2021/7/29 10:57</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@description</span> 括号匹配</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">BracketMatching</span> </span>&#123;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * 括号的匹配</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> c1</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> c2</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">match</span><span class="params">(<span class="keyword">char</span> c1,<span class="keyword">char</span> c2)</span></span>&#123;</span><br><span class="line">        <span class="keyword">boolean</span> flag = <span class="keyword">false</span>;</span><br><span class="line">        <span class="keyword">if</span>(c1 == <span class="string">&#x27;&#123;&#x27;</span> &amp;&amp; c2 == <span class="string">&#x27;&#125;&#x27;</span>)</span><br><span class="line">            flag = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(c1 == <span class="string">&#x27;[&#x27;</span> &amp;&amp; c2 == <span class="string">&#x27;]&#x27;</span>)</span><br><span class="line">            flag = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(c1 == <span class="string">&#x27;(&#x27;</span> &amp;&amp; c2 == <span class="string">&#x27;)&#x27;</span>)</span><br><span class="line">            flag = <span class="keyword">true</span>;</span><br><span class="line">        <span class="keyword">return</span> flag;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> str</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">boolean</span> <span class="title">bracketMatching</span><span class="params">(String str)</span></span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">char</span>[] arr = str.toCharArray();</span><br><span class="line">        LinkedList&lt;Character&gt; list = <span class="keyword">new</span> LinkedList&lt;&gt;();</span><br><span class="line">        list.push(arr[<span class="number">0</span>]);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">1</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">            <span class="comment">//!!!!!!!!这里真的要注意一下!!!!!!!!!!!!!-&gt;没有考虑到这种情况</span></span><br><span class="line">            <span class="comment">// 为了避免在栈顶已经没有元素的情况下还去获取栈顶元素,非空判断</span></span><br><span class="line">            <span class="keyword">if</span>(list.isEmpty())&#123;</span><br><span class="line">                list.push(arr[i]);</span><br><span class="line">                <span class="keyword">continue</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span>(match(list.getFirst(),arr[i]))&#123;</span><br><span class="line">                <span class="comment">// 匹配就出栈</span></span><br><span class="line">                list.pop();</span><br><span class="line">            &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">                <span class="comment">// 不匹配就入栈</span></span><br><span class="line">                list.push(arr[i]);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> list.isEmpty();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        String str = <span class="string">&quot;&#123;&#125;[]()&quot;</span>;</span><br><span class="line">        System.out.println(bracketMatching(str));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<blockquote>
<p>这里一定要注意在取出栈顶元素的时候,首先需要判断这个集合中是否还有元素.</p>
</blockquote>
<h3 id="Map-I"><a href="#Map-I" class="headerlink" title="Map[I]"></a>Map[I]</h3><h4 id="HashMap-C"><a href="#HashMap-C" class="headerlink" title="HashMap[C]"></a>HashMap[C]</h4><p>数据存储的形式是key-value,针对key是无序不可重复的.</p>
<p>jdk8.x之前,底层的数据结构是桶数组+链表</p>
<p>jd8.0开始,底层的数据结构是<strong>桶数组+链表+红黑树</strong></p>
<p>桶(哈希桶)数组 - 里面的元素放在数组的这个位置是通过一个哈希算法计算得到的.</p>
<h5 id="图示"><a href="#图示" class="headerlink" title="图示"></a>图示</h5><p><img src="/2021/07/29/java04/map.png"></p>
<p><img src="/2021/07/29/java04/map2.png"></p>
<h5 id="剖析put方法"><a href="#剖析put方法" class="headerlink" title="剖析put方法"></a>剖析put方法</h5><p><img src="/2021/07/29/java04/put.png"></p>
<p>put方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> V <span class="title">put</span><span class="params">(K key, V value)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> putVal(hash(key), key, value, <span class="keyword">false</span>, <span class="keyword">true</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>putVal方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">final</span> V <span class="title">putVal</span><span class="params">(<span class="keyword">int</span> hash, K key, V value, <span class="keyword">boolean</span> onlyIfAbsent,</span></span></span><br><span class="line"><span class="params"><span class="function">               <span class="keyword">boolean</span> evict)</span> </span>&#123;</span><br><span class="line">    Node&lt;K,V&gt;[] tab; Node&lt;K,V&gt; p; <span class="keyword">int</span> n, i;</span><br><span class="line">    <span class="keyword">if</span> ((tab = table) == <span class="keyword">null</span> || (n = tab.length) == <span class="number">0</span>)</span><br><span class="line">        n = (tab = resize()).length;</span><br><span class="line">    <span class="keyword">if</span> ((p = tab[i = (n - <span class="number">1</span>) &amp; hash]) == <span class="keyword">null</span>)</span><br><span class="line">        tab[i] = newNode(hash, key, value, <span class="keyword">null</span>);</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        Node&lt;K,V&gt; e; K k;</span><br><span class="line">        <span class="keyword">if</span> (p.hash == hash &amp;&amp;</span><br><span class="line">            ((k = p.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">            e = p;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (p <span class="keyword">instanceof</span> TreeNode)</span><br><span class="line">            e = ((TreeNode&lt;K,V&gt;)p).putTreeVal(<span class="keyword">this</span>, tab, hash, key, value);</span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">for</span> (<span class="keyword">int</span> binCount = <span class="number">0</span>; ; ++binCount) &#123;</span><br><span class="line">                <span class="keyword">if</span> ((e = p.next) == <span class="keyword">null</span>) &#123;</span><br><span class="line">                    p.next = newNode(hash, key, value, <span class="keyword">null</span>);</span><br><span class="line">                    <span class="keyword">if</span> (binCount &gt;= TREEIFY_THRESHOLD - <span class="number">1</span>) <span class="comment">// -1 for 1st</span></span><br><span class="line">                        treeifyBin(tab, hash);</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (e.hash == hash &amp;&amp;</span><br><span class="line">                    ((k = e.key) == key || (key != <span class="keyword">null</span> &amp;&amp; key.equals(k))))</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                p = e;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (e != <span class="keyword">null</span>) &#123; <span class="comment">// existing mapping for key</span></span><br><span class="line">            V oldValue = e.value;</span><br><span class="line">            <span class="keyword">if</span> (!onlyIfAbsent || oldValue == <span class="keyword">null</span>)</span><br><span class="line">                e.value = value;</span><br><span class="line">            afterNodeAccess(e);</span><br><span class="line">            <span class="keyword">return</span> oldValue;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    ++modCount;</span><br><span class="line">    <span class="keyword">if</span> (++size &gt; threshold)</span><br><span class="line">        resize();</span><br><span class="line">    afterNodeInsertion(evict);</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h5 id="常用方法-2"><a href="#常用方法-2" class="headerlink" title="常用方法"></a>常用方法</h5><table>
<thead>
<tr>
<th>方法</th>
<th>含义</th>
</tr>
</thead>
<tbody><tr>
<td>map.size()</td>
<td>获取集合大小</td>
</tr>
<tr>
<td>map.put(k,v)</td>
<td>添加元素,键为k,值为v</td>
</tr>
<tr>
<td>map.get(k)</td>
<td>获取键key对应的值</td>
</tr>
<tr>
<td>map.clear()</td>
<td>清空集合</td>
</tr>
<tr>
<td>map.isEmpty()</td>
<td>判断集合是否为空</td>
</tr>
<tr>
<td>map.containsKey(k)</td>
<td>判断集合中是否包含某个key</td>
</tr>
<tr>
<td>map.keySet()</td>
<td>将map集合中所有的key全部取出来放到一个set集合中</td>
</tr>
<tr>
<td>map.entrySet()</td>
<td>将map集合中的每对key-value封装到内置的Entry对象中</td>
</tr>
<tr>
<td>map.containsValue(v)</td>
<td>判断集合中是否包含某个value</td>
</tr>
</tbody></table>
<h5 id="Map集合的迭代方式"><a href="#Map集合的迭代方式" class="headerlink" title="Map集合的迭代方式"></a>Map集合的迭代方式</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 第一种方式:将map集合中所有的key全部取出来放入到set集合中</span></span><br><span class="line">Set&lt;Integer&gt; sets = maps.keySet();</span><br><span class="line"><span class="comment">// 遍历set集合</span></span><br><span class="line">Iterator&lt;Integer&gt; inter = sets.iterator();</span><br><span class="line"><span class="keyword">while</span>(inter.hasNext())&#123;</span><br><span class="line">    Integer key = inter.next();</span><br><span class="line">    String value = maps.get(key);</span><br><span class="line">    System.out.println(key+<span class="string">&quot;:&quot;</span>+value);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">System.out.println();</span><br><span class="line"></span><br><span class="line"><span class="comment">// 第二种方式</span></span><br><span class="line"><span class="comment">// 将map集合中的每对key-value封装到内置的entry对象中</span></span><br><span class="line"><span class="comment">// 然后将每个entry对象放到set集合中</span></span><br><span class="line">Set&lt;Map.Entry&lt;Integer,String&gt;&gt; entries = maps.entrySet();</span><br><span class="line">Iterator&lt;Map.Entry&lt;Integer,String&gt;&gt; iter = entries.iterator();</span><br><span class="line"><span class="keyword">while</span>(iter.hasNext())&#123;</span><br><span class="line">    Map.Entry&lt;Integer,String&gt; entry = iter.next();</span><br><span class="line">    Integer key = entry.getKey();</span><br><span class="line">    String value = entry.getValue();</span><br><span class="line">    System.out.println(key+<span class="string">&quot;-&gt;&quot;</span>+value);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="HashSet"><a href="#HashSet" class="headerlink" title="HashSet"></a>HashSet</h3><p>Set[I]接口下的实现类 - 存储的数据是<strong>无序,不可重复</strong>的.</p>
<h4 id="添加数据到容器的原理"><a href="#添加数据到容器的原理" class="headerlink" title="添加数据到容器的原理"></a>添加数据到容器的原理</h4><ol>
<li>当把对象添加到容器中之前,会调用对象的hashCode方法,得到一个哈希值.</li>
<li>如果这个哈希值在这之前没有出现过,说明这个位置没有被占用,那么就可以直接将这个对象放入到这个容器中的这个位置.</li>
<li>如果这个哈希值在这之前出现过了,产生了哈希碰撞或哈希冲突.但这个时候还不能确定哈希碰撞的两个对象是同一个对象</li>
<li>继续调用对象的equals方法,如果返回true,说明是同一个对象,则拒绝添加.</li>
</ol>
<h4 id="底层数据结构"><a href="#底层数据结构" class="headerlink" title="底层数据结构"></a>底层数据结构</h4><p><strong>桶数组 + 链表 + 红黑树</strong></p>
<p>查看HashSet源码</p>
<p>Set<Teacher> sets = new HashSet&lt;&gt;();</Teacher></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">public</span> <span class="title">HashSet</span><span class="params">()</span> </span>&#123;</span><br><span class="line"><span class="comment">//HashSet的底层是HashMap</span></span><br><span class="line">map = <span class="keyword">new</span> HashMap&lt;&gt;();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>add方法底层</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Object PRESENT = <span class="keyword">new</span> Object();</span><br><span class="line"></span><br><span class="line"><span class="comment">//此处的e是添加到容器中的对象</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">boolean</span> <span class="title">add</span><span class="params">(E e)</span> </span>&#123;</span><br><span class="line"><span class="comment">//实际上还是在调用map的put方法</span></span><br><span class="line"><span class="comment">//HashSet中添加的对象是作为了Map集合的key</span></span><br><span class="line"><span class="comment">//Map的key具有什么特点 = HashSet中的数据有何特点.</span></span><br><span class="line"><span class="keyword">return</span> map.put(e, PRESENT)==<span class="keyword">null</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="TreeSet"><a href="#TreeSet" class="headerlink" title="TreeSet"></a>TreeSet</h3><p>Set[I] - SortedSet[I] - TreeSet[C] - 不可重复的,但是可以排序.</p>
<h4 id="特点"><a href="#特点" class="headerlink" title="特点"></a>特点</h4><p>TreeSet在添加元素时,假设排序的规则定好,比如根据price进行排序,那么被添加到容器的这些对象的price就不能一样,一旦存在price相同的对象,就会拒绝添加.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ComparatorFactory</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> ISBN = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">int</span> PRICE = <span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> Comparator&lt;Book&gt; <span class="title">getInstance</span><span class="params">(<span class="keyword">int</span> type)</span></span>&#123;</span><br><span class="line">        Comparator&lt;Book&gt; c = <span class="keyword">null</span>;</span><br><span class="line">        <span class="keyword">switch</span> (type)&#123;</span><br><span class="line">            <span class="keyword">case</span> ISBN:</span><br><span class="line">                c = (b1,b2)-&gt;b2.getIsbn().compareTo(b1.getIsbn());</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            <span class="keyword">case</span> PRICE:</span><br><span class="line">                c = (b1,b2)-&gt; (<span class="keyword">int</span>) (b2.getPrice()-b1.getPrice());</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 获取按照price进行排序的比较器</span></span><br><span class="line">Comparator c = CompareFactoryDemo.getInstance(CompareFactoryDemo.PRICE);</span><br><span class="line"></span><br><span class="line">TreeSet&lt;Book&gt; books = <span class="keyword">new</span> TreeSet&lt;&gt;(c);	<span class="comment">//注意一下这里的构造</span></span><br><span class="line">Book b1 = <span class="keyword">new</span> Book(<span class="number">1</span>,<span class="string">&quot;1001&quot;</span>,<span class="string">&quot;java&quot;</span>,<span class="number">100.0d</span>);</span><br><span class="line">Book b2 = <span class="keyword">new</span> Book(<span class="number">2</span>,<span class="string">&quot;1002&quot;</span>,<span class="string">&quot;java&quot;</span>,<span class="number">200.0d</span>);</span><br><span class="line">Book b3 = <span class="keyword">new</span> Book(<span class="number">3</span>,<span class="string">&quot;1003&quot;</span>,<span class="string">&quot;java&quot;</span>,<span class="number">200.0d</span>);</span><br><span class="line">Book b4 = <span class="keyword">new</span> Book(<span class="number">2</span>,<span class="string">&quot;1004&quot;</span>,<span class="string">&quot;python&quot;</span>,<span class="number">300.0d</span>);</span><br><span class="line"></span><br><span class="line">books.add(b1);</span><br><span class="line">books.add(b2);</span><br><span class="line">books.add(b3);</span><br><span class="line">books.add(b4);</span><br><span class="line"></span><br><span class="line">books.forEach(e-&gt; System.out.println(e));</span><br></pre></td></tr></table></figure>

<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">结果</span><br><span class="line">Book&#123;id=2, isbn=&#x27;1004&#x27;, name=&#x27;python&#x27;, price=300.0&#125;</span><br><span class="line">Book&#123;id=2, isbn=&#x27;1002&#x27;, name=&#x27;java&#x27;, price=200.0&#125;</span><br><span class="line">Book&#123;id=1, isbn=&#x27;1001&#x27;, name=&#x27;java&#x27;, price=100.0&#125;</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果构造中没有指明Comparator,就会报java.lang.ClassCastException异常.</p>
</blockquote>
<h3 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h3><h4 id="比较器接口Comparator"><a href="#比较器接口Comparator" class="headerlink" title="比较器接口Comparator"></a>比较器接口Comparator</h4><p>jdk8.0开始,在List接口中已经定义了排序的方法</p>
<p>void sort(Comparator&lt;? superE&gt; c)</p>
<p>Book实体类 - 省略构造,getter/setter方法/toString方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Book</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String isBn;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">double</span> price;</span><br><span class="line">&#125;    </span><br></pre></td></tr></table></figure>

<p>测试类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Book b1 = <span class="keyword">new</span> Book(<span class="number">1</span>,<span class="string">&quot;1001&quot;</span>,<span class="string">&quot;java&quot;</span>,<span class="number">100.0d</span>);</span><br><span class="line">Book b2 = <span class="keyword">new</span> Book(<span class="number">2</span>,<span class="string">&quot;1002&quot;</span>,<span class="string">&quot;java&quot;</span>,<span class="number">200.0d</span>);</span><br><span class="line">Book b3 = <span class="keyword">new</span> Book(<span class="number">3</span>,<span class="string">&quot;1003&quot;</span>,<span class="string">&quot;java&quot;</span>,<span class="number">200.0d</span>);</span><br><span class="line">Book b4 = <span class="keyword">new</span> Book(<span class="number">4</span>,<span class="string">&quot;1004&quot;</span>,<span class="string">&quot;python&quot;</span>,<span class="number">300.0d</span>);</span><br><span class="line"></span><br><span class="line">List&lt;Book&gt; bookList = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">bookList.add(b1);</span><br><span class="line">bookList.add(b2);</span><br><span class="line">bookList.add(b3);</span><br><span class="line">bookList.add(b4);</span><br></pre></td></tr></table></figure>

<ol>
<li><p>根据价格降序排序,使用匿名内部类方式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">bookList.sort(<span class="keyword">new</span> Comparator&lt;Book&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Book o1, Book o2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(o1.getPrice()&gt;o2.getPrice())</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(o1.getPrice()&lt;o2.getPrice())</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>简化一下</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">bookList.sort(<span class="keyword">new</span> Comparator&lt;Book&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Book o1, Book o2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> (<span class="keyword">int</span>) o2.getPrice() - o1.getPrice();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>在排序时,如果符合要求则返回-1,不符合就返回1,相等返回0.</p>
</blockquote>
</li>
<li><p>根据价格升序排序,使用lambda表达式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">bookList.sort((o1,o2) -&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span>(o1.getPrice()&gt;o2.getPrice())</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span>(o1.getPrice()&lt;o2.getPrice())</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure>

<p>简化</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bookList.sort((o1,o2) -&gt; (<span class="keyword">int</span>) (o1.getPrice()-o2.getPrice()));</span><br></pre></td></tr></table></figure></li>
<li><p>根据编号降序排序,使用lambda表达式</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">bookList.sort((o1,o2) -&gt; o2.getIsBn().compareTo(o1.getIsBn()));</span><br></pre></td></tr></table></figure>

<p>因为String类中重写了compareTo方法,所以字符串可以通过compareTo进行比较</p>
</li>
<li><p>根据价格升排序,如果价格一样,按照编号升序继续排序,使用匿名内部类.</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">bookList.sort(<span class="keyword">new</span> Comparator&lt;Book&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Book o1, Book o2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(o1.getPrice()&gt;o2.getPrice())</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span>(o1.getPrice()&lt;o2.getPrice())</span><br><span class="line">            <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">return</span> o1.getIsBn().compareTo(o2.getIsBn());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li>
</ol>
<h4 id="Collections"><a href="#Collections" class="headerlink" title="Collections"></a>Collections</h4><p>java.util.Collections[C] - 集合工具类</p>
<p>面试题 - Collection和Collections有什么区别?</p>
<p>Teacher类 - 省略构造,getter/setter方法/toString方法</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> </span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>Teacher测试类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">Teacher t1 = <span class="keyword">new</span> Teacher(<span class="number">1</span>,<span class="string">&quot;tom&quot;</span>,<span class="number">23</span>);</span><br><span class="line">Teacher t2 = <span class="keyword">new</span> Teacher(<span class="number">2</span>,<span class="string">&quot;jack&quot;</span>,<span class="number">25</span>);</span><br><span class="line">Teacher t3 = <span class="keyword">new</span> Teacher(<span class="number">3</span>,<span class="string">&quot;james&quot;</span>,<span class="number">18</span>);</span><br><span class="line">Teacher t4 = <span class="keyword">new</span> Teacher(<span class="number">4</span>,<span class="string">&quot;rose&quot;</span>,<span class="number">17</span>);</span><br><span class="line"></span><br><span class="line">List&lt;Teacher&gt; list = <span class="keyword">new</span> ArrayList&lt;&gt;();</span><br><span class="line">list.add(t1);</span><br><span class="line">list.add(t2);</span><br><span class="line">list.add(t3);</span><br><span class="line">list.add(t4);</span><br></pre></td></tr></table></figure>

<p>要求:按照老师的年龄增序排序</p>
<ol>
<li><p>static <T> void    sort(List<T> list, Comparator&lt;? super T&gt; c)<br>根据指定的比较器引起的顺序对指定的列表进行排序。</T></T></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 匿名内部类</span></span><br><span class="line">Collections.sort(list, <span class="keyword">new</span> Comparator&lt;Teacher&gt;() &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compare</span><span class="params">(Teacher o1, Teacher o2)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> o1.getAge()-o2.getAge();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// lambda表达式</span></span><br><span class="line">Collections.sort(list,(o1,o2) -&gt; o1.getAge()-o2.getAge());</span><br></pre></td></tr></table></figure></li>
<li><p>static &lt;T extends Comparable&lt;? super T&gt;&gt; void sort(List<T> list) ;//集合中的对象必须要实现java.lang.Comparable可比较接口</T></p>
<p>修改Teacher类,实现Comparable<T>接口,并重写compareTo方法</T></p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Teacher</span> <span class="keyword">implements</span> <span class="title">Comparable</span>&lt;<span class="title">Teacher</span>&gt;</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> id;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> age;</span><br><span class="line">    </span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">int</span> <span class="title">compareTo</span><span class="params">(Teacher o)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">this</span>.getAge()-o.getAge();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p>测试类</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Collections.sort(list);</span><br></pre></td></tr></table></figure>

<blockquote>
<p>如果在Teacher类中没有实现接口,这里的语法就会报错.</p>
</blockquote>
</li>
</ol>
<h3 id="面试题"><a href="#面试题" class="headerlink" title="面试题"></a>面试题</h3><h4 id="HashMap-和-HashTable-区别"><a href="#HashMap-和-HashTable-区别" class="headerlink" title="HashMap 和 HashTable 区别"></a>HashMap 和 HashTable 区别</h4><blockquote>
<p>HashMap 是 HashTable 的轻量级实现，他们都完成了Map 接口，主要区别在于 HashMap 允许 null  key 和 null value,由于非线程安全，效率上可能高于 Hashtable。主要区别如下:</p>
<ol>
<li><p>HashMap允许将 null 作为一个 entry 的 key 或者 value，而 Hashtable 不允许。</p>
</li>
<li><p>HashMap 把 Hashtable 的 contains 方法去掉了，改成 containsValue 和 containsKey。因为 contains 方法容易让人引起误解。</p>
</li>
<li><p>HashTable 继承自 Dictionary 类，而 HashMap 是 Java1.2 引进的 Map interface 的一个实现。</p>
</li>
<li><p>HashTable 的方法是 Synchronize 的，而 HashMap 不是，在多个线程访问 Hashtable 时，不需要自己为它的方法实现同步，而 HashMap 就必须为之提供外同步。</p>
</li>
<li><p>Hashtable 和 HashMap 采用的 hash/rehash 算法都大概一样，所以性能不会有很大的差异。</p>
</li>
</ol>
</blockquote>
<h4 id="ArrayList和LinkedList区别"><a href="#ArrayList和LinkedList区别" class="headerlink" title="ArrayList和LinkedList区别"></a>ArrayList和LinkedList区别</h4><blockquote>
<ol>
<li>ArrayList是实现了基于动态数组的数据结构，LinkedList基于链表的数据结构。</li>
<li>对于随机访问get和set，ArrayList觉得优于LinkedList，因为LinkedList要移动指针。</li>
<li>对于新增和删除操作add和remove，LinedList比较占优势，因为ArrayList要移动数据</li>
</ol>
</blockquote>
<h4 id="List和Set区别"><a href="#List和Set区别" class="headerlink" title="List和Set区别"></a>List和Set区别</h4><blockquote>
<p>两个接口都是继承自Collection，是常用来存放数据项的集合，主要区别如下：</p>
<ol>
<li>List和Set之间很重要的一个区别是是否允许重复元素的存在，在List中允许插入重复的元素，而在Set中不允许重复元素存在。</li>
<li>与元素先后存放顺序有关，List是有序集合，会保留元素插入时的顺序，Set是无序集合。</li>
<li>List可以通过下标来访问，而Set不能。</li>
</ol>
</blockquote>
<h4 id="HashSet和HashMap区别"><a href="#HashSet和HashMap区别" class="headerlink" title="HashSet和HashMap区别"></a>HashSet和HashMap区别</h4><blockquote>
<p>HashSet的底层是HashMap</p>
</blockquote>
<blockquote>
<table>
<thead>
<tr>
<th><em>HashMap</em></th>
<th><em>HashSet</em></th>
</tr>
</thead>
<tbody><tr>
<td>HashMap实现了Map接口</td>
<td>HashSet实现了Set接口</td>
</tr>
<tr>
<td>HashMap储存键值对</td>
<td>HashSet仅仅存储对象</td>
</tr>
<tr>
<td>使用put()方法将元素放入map中</td>
<td>使用add()方法将元素放入set中</td>
</tr>
<tr>
<td>HashMap中使用键对象来计算hashcode值</td>
<td>HashSet使用成员对象来计算hashcode值，对于两个对象来说hashcode可能相同，所以equals()方法用来判断对象的相等性，如果两个对象不同的话，那么返回false</td>
</tr>
<tr>
<td>HashMap比较快，因为是使用唯一的键来获取对象</td>
<td>HashSet较HashMap来说比较慢</td>
</tr>
</tbody></table>
</blockquote>
<h4 id="ArrayList和HashSet区别"><a href="#ArrayList和HashSet区别" class="headerlink" title="ArrayList和HashSet区别"></a>ArrayList和HashSet区别</h4><blockquote>
<p>1.HashSet 是不重复的 而且是无序的!</p>
<p>​     唯一性保证. 重复对象equals方法返回为true ，重复对象hashCode方法返回相同的整数</p>
<p>​     HashSet其实就是一个HashMap,只是你只能通过Set接口操作这个HashMap的key部分,</p>
<p>2.ArrayList是可重复的 有序的</p>
<p>​    特点：查询效率高，增删效率低 轻量级 线程不安全。</p>
<p>arraylist：在数据的插入和删除方面速度不佳，但是在随意提取方面较快</p>
</blockquote>
<h4 id="HashSet和TreeSet区别"><a href="#HashSet和TreeSet区别" class="headerlink" title="HashSet和TreeSet区别"></a>HashSet和TreeSet区别</h4><blockquote>
<p><strong>一、HashSet</strong></p>
<p>HashSet内部的数据结构是哈希表，是线程不安全的。</p>
<p>HashSet当中，保证集合中元素是唯一的方法。</p>
<p>通过对象的hashCode和equals方法来完成对象唯一性的判断。</p>
<p>假如，对象的hashCode值是一样的，那么就要用equals方法进行比较。</p>
<p>假如，结果是true，那么就要视作相同元素，不存。</p>
<p>假如，结果是false，那么就视为不同元素，存储。</p>
<p>注意了，假如，元素要存储到HashCode当中，那么就一定要覆盖hashCode方法以及equals方法。</p>
<p><strong>二、TreeSet</strong></p>
<p>TreeSet能够对Set集合当中的元素进行排序，是线程不安全的。</p>
<p>TreeSet当中，判断元素唯一性的方法是依据比较方法的返回结果是否为0，假如是0，那么是相同的元素，不存，假如不是0，那么就是不同的元素，存储。</p>
<p>TreeSet对元素进行排序的方式：</p>
<p>1、元素自身具备比较功能，也就是自然排序，需要实现Comparable接口，并覆盖其compareTo方法。</p>
<p>2、元素自身不具备比较功能，那么就要实现Comparator接口，并覆盖其compare方法。</p>
<p>除此之外，还要注意了，LinkedHashSet是一种有序的Set集合。</p>
<p>也就是其元素的存入和输出的顺序是相同的。</p>
</blockquote>
<h4 id="HashMap和TreeMap区别"><a href="#HashMap和TreeMap区别" class="headerlink" title="HashMap和TreeMap区别"></a>HashMap和TreeMap区别</h4><blockquote>
<p>HashMap的底层是Array，所以HashMap在添加，查找，删除等方法上面速度会非常快。而TreeMap的底层是一个Tree结构，所以速度会比较慢。</p>
<p>另外HashMap因为要保存一个Array，所以会造成空间的浪费，而TreeMap只保存要保持的节点，所以占用的空间比较小。</p>
<p>HashMap如果出现hash冲突的话，效率会变差，不过在java 8进行TreeNode转换之后，效率有很大的提升。</p>
<p>TreeMap在添加和删除节点的时候会进行重排序，会对性能有所影响。           </p>
</blockquote>
<h4 id="ArrayList和Vector区别"><a href="#ArrayList和Vector区别" class="headerlink" title="ArrayList和Vector区别"></a>ArrayList和Vector区别</h4><blockquote>
<ol>
<li>Vector是线程安全的，ArrayList不是线程安全的。</li>
<li>ArrayList在底层数组不够用时在原来的基础上扩展0.5倍，Vector是扩展1倍。</li>
</ol>
</blockquote>
</article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta">文章作者: </span><span class="post-copyright-info"><a href="mailto:2294014200@qq.com">sakura</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta">文章链接: </span><span class="post-copyright-info"><a href="http://beautifulboyy/2021/07/29/java04/">http://beautifulboyy/2021/07/29/java04/</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta">版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="http://beautifulboyy" target="_blank">今晚你会梦到电子羊吗</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6/">集合框架</a></div><div class="post_share"><div class="social-share" data-image="/img/wlop012.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/social-share.js/dist/css/share.min.css" media="print" onload="this.media='all'"><script src="https://cdn.jsdelivr.net/npm/social-share.js/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/2021/07/30/java-project01/"><img class="prev-cover" src="https://wx1.sinaimg.cn/mw1024/6b8c14f8gy1g4k64tm27xj21jc0tsdlp.jpg" onerror="onerror=null;src='/img/avatar.jpeg'" alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">贪吃蛇的简单实现</div></div></a></div><div class="next-post pull-right"><a href="/2021/07/27/java-design/"><img class="next-cover" src="https://wx2.sinaimg.cn/mw1024/6b8c14f8gy1g47hwwg0koj21ds0sygw3.jpg" onerror="onerror=null;src='/img/avatar.jpeg'" alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">设计模式</div></div></a></div></nav></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="/img/avatar.jpeg" onerror="this.onerror=null;this.src='/img/friend_404.gif'" alt="avatar"/></div><div class="author-info__name">sakura</div><div class="author-info__description"></div></div><div class="card-info-data"><div class="card-info-data-item is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">34</div></a></div><div class="card-info-data-item is-center"><a href="/tags/"><div class="headline">标签</div><div class="length-num">44</div></a></div><div class="card-info-data-item is-center"><a href="/categories/"><div class="headline">分类</div><div class="length-num">10</div></a></div></div><a class="button--animated" id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/xxxxxx"><i class="fab fa-github"></i><span>Follow Me</span></a></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn card-announcement-animation"></i><span>公告</span></div><div class="announcement_content">This is my Blog</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E6%A1%86%E6%9E%B6"><span class="toc-number">1.</span> <span class="toc-text">集合框架</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%BB%93%E6%9E%84"><span class="toc-number">1.1.</span> <span class="toc-text">结构</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Collection-I"><span class="toc-number">1.2.</span> <span class="toc-text">Collection[I]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#List-I"><span class="toc-number">1.3.</span> <span class="toc-text">List[I]</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#ArrayList-C"><span class="toc-number">1.4.</span> <span class="toc-text">ArrayList[C]</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%9B%86%E5%90%88%E7%9A%84%E9%81%8D%E5%8E%86"><span class="toc-number">1.4.1.</span> <span class="toc-text">集合的遍历</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95"><span class="toc-number">1.4.2.</span> <span class="toc-text">常用方法</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#LinkedList-C"><span class="toc-number">1.5.</span> <span class="toc-text">LinkedList[C]</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%93%BE%E8%A1%A8%E7%BB%93%E6%9E%84"><span class="toc-number">1.5.1.</span> <span class="toc-text">链表结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%89%96%E6%9E%90%E6%BA%90%E7%A0%81"><span class="toc-number">1.5.2.</span> <span class="toc-text">剖析源码</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#add%E6%96%B9%E6%B3%95"><span class="toc-number">1.5.2.1.</span> <span class="toc-text">add方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#get%E6%96%B9%E6%B3%95"><span class="toc-number">1.5.2.2.</span> <span class="toc-text">get方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#remove%E6%96%B9%E6%B3%95"><span class="toc-number">1.5.2.3.</span> <span class="toc-text">remove方法</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95-1"><span class="toc-number">1.5.3.</span> <span class="toc-text">常用方法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%B8%80%E4%B8%AA%E5%B0%8F%E9%A2%98%E7%9B%AE"><span class="toc-number">1.5.4.</span> <span class="toc-text">一个小题目</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Map-I"><span class="toc-number">1.6.</span> <span class="toc-text">Map[I]</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HashMap-C"><span class="toc-number">1.6.1.</span> <span class="toc-text">HashMap[C]</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%9B%BE%E7%A4%BA"><span class="toc-number">1.6.1.1.</span> <span class="toc-text">图示</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%89%96%E6%9E%90put%E6%96%B9%E6%B3%95"><span class="toc-number">1.6.1.2.</span> <span class="toc-text">剖析put方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B8%B8%E7%94%A8%E6%96%B9%E6%B3%95-2"><span class="toc-number">1.6.1.3.</span> <span class="toc-text">常用方法</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Map%E9%9B%86%E5%90%88%E7%9A%84%E8%BF%AD%E4%BB%A3%E6%96%B9%E5%BC%8F"><span class="toc-number">1.6.1.4.</span> <span class="toc-text">Map集合的迭代方式</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#HashSet"><span class="toc-number">1.7.</span> <span class="toc-text">HashSet</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E6%95%B0%E6%8D%AE%E5%88%B0%E5%AE%B9%E5%99%A8%E7%9A%84%E5%8E%9F%E7%90%86"><span class="toc-number">1.7.1.</span> <span class="toc-text">添加数据到容器的原理</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BA%95%E5%B1%82%E6%95%B0%E6%8D%AE%E7%BB%93%E6%9E%84"><span class="toc-number">1.7.2.</span> <span class="toc-text">底层数据结构</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#TreeSet"><span class="toc-number">1.8.</span> <span class="toc-text">TreeSet</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E7%82%B9"><span class="toc-number">1.8.1.</span> <span class="toc-text">特点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%8E%92%E5%BA%8F"><span class="toc-number">1.9.</span> <span class="toc-text">排序</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%AF%94%E8%BE%83%E5%99%A8%E6%8E%A5%E5%8F%A3Comparator"><span class="toc-number">1.9.1.</span> <span class="toc-text">比较器接口Comparator</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Collections"><span class="toc-number">1.9.2.</span> <span class="toc-text">Collections</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9D%A2%E8%AF%95%E9%A2%98"><span class="toc-number">1.10.</span> <span class="toc-text">面试题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#HashMap-%E5%92%8C-HashTable-%E5%8C%BA%E5%88%AB"><span class="toc-number">1.10.1.</span> <span class="toc-text">HashMap 和 HashTable 区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ArrayList%E5%92%8CLinkedList%E5%8C%BA%E5%88%AB"><span class="toc-number">1.10.2.</span> <span class="toc-text">ArrayList和LinkedList区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#List%E5%92%8CSet%E5%8C%BA%E5%88%AB"><span class="toc-number">1.10.3.</span> <span class="toc-text">List和Set区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HashSet%E5%92%8CHashMap%E5%8C%BA%E5%88%AB"><span class="toc-number">1.10.4.</span> <span class="toc-text">HashSet和HashMap区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ArrayList%E5%92%8CHashSet%E5%8C%BA%E5%88%AB"><span class="toc-number">1.10.5.</span> <span class="toc-text">ArrayList和HashSet区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HashSet%E5%92%8CTreeSet%E5%8C%BA%E5%88%AB"><span class="toc-number">1.10.6.</span> <span class="toc-text">HashSet和TreeSet区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#HashMap%E5%92%8CTreeMap%E5%8C%BA%E5%88%AB"><span class="toc-number">1.10.7.</span> <span class="toc-text">HashMap和TreeMap区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#ArrayList%E5%92%8CVector%E5%8C%BA%E5%88%AB"><span class="toc-number">1.10.8.</span> <span class="toc-text">ArrayList和Vector区别</span></a></li></ol></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item"><a class="thumbnail" href="/2021/08/31/mysql-points/" title="mysql重要知识点"><img src="/img/wlop012.jpg" onerror="this.onerror=null;this.src='/img/avatar.jpeg'" alt="mysql重要知识点"/></a><div class="content"><a class="title" href="/2021/08/31/mysql-points/" title="mysql重要知识点">mysql重要知识点</a><time datetime="2021-08-31T11:45:12.000Z" title="发表于 2021-08-31 19:45:12">2021-08-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/08/31/mybatis01/" title="mybatis基础(一)"><img src="/img/wlop012.jpg" onerror="this.onerror=null;this.src='/img/avatar.jpeg'" alt="mybatis基础(一)"/></a><div class="content"><a class="title" href="/2021/08/31/mybatis01/" title="mybatis基础(一)">mybatis基础(一)</a><time datetime="2021-08-31T03:00:38.000Z" title="发表于 2021-08-31 11:00:38">2021-08-31</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/08/30/jdbc04/" title="jdbc拓展"><img src="/img/wlop012.jpg" onerror="this.onerror=null;this.src='/img/avatar.jpeg'" alt="jdbc拓展"/></a><div class="content"><a class="title" href="/2021/08/30/jdbc04/" title="jdbc拓展">jdbc拓展</a><time datetime="2021-08-30T08:32:14.000Z" title="发表于 2021-08-30 16:32:14">2021-08-30</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/08/25/jdbc03/" title="数据库连接池"><img src="/img/wlop012.jpg" onerror="this.onerror=null;this.src='/img/avatar.jpeg'" alt="数据库连接池"/></a><div class="content"><a class="title" href="/2021/08/25/jdbc03/" title="数据库连接池">数据库连接池</a><time datetime="2021-08-25T06:47:49.000Z" title="发表于 2021-08-25 14:47:49">2021-08-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/2021/08/25/jdbc02/" title="jdbc基础(二)"><img src="/img/wlop012.jpg" onerror="this.onerror=null;this.src='/img/avatar.jpeg'" alt="jdbc基础(二)"/></a><div class="content"><a class="title" href="/2021/08/25/jdbc02/" title="jdbc基础(二)">jdbc基础(二)</a><time datetime="2021-08-25T06:47:36.000Z" title="发表于 2021-08-25 14:47:36">2021-08-25</time></div></div></div></div></div></div></main><footer id="footer" style="background-image: url('/img/wlop012.jpg')"><div id="footer-wrap"><div class="copyright">&copy;2020 - 2021 By sakura</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div><div class="footer_custom_text">Hi, welcome to my <a target="_blank" rel="noopener" href="https://beautifulboyy.github.io/">blog</a>!</div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside_config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><button id="go-up" type="button" title="回到顶部"><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js"></script><script src="/js/main.js"></script><script>var preloader = {
  endLoading: () => {
    document.body.style.overflow = 'auto';
    document.getElementById('loading-box').classList.add("loaded")
  },
  initLoading: () => {
    document.body.style.overflow = '';
    document.getElementById('loading-box').classList.remove("loaded")

  }
}
window.addEventListener('load',preloader.endLoading())</script><div class="js-pjax"></div><script defer="defer" id="ribbon" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-ribbon.min.js" size="150" alpha="0.6" zIndex="-1" mobile="false" data-click="true"></script><script id="canvas_nest" defer="defer" color="0,0,255" opacity="0.7" zIndex="-1" count="99" mobile="false" src="https://cdn.jsdelivr.net/npm/butterfly-extsrc@1/dist/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script></div></body></html>